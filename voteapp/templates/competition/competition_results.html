{% extends "layout.html" %}

{% block title %}Competition Results{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center my-4">Finalized Competition Results</h1>
    <div class="table-responsive">
        <table class="table table-striped table-bordered mx-auto">
            <thead>
                <tr>
                    <th class="text-center" style="width: 30%;">Competition Name</th>
                    <th class="text-center">Winner</th>
                    <th class="text-center">Total Votes</th>
                    <th class="text-center" style="width: 25%;">Winner's Vote Percentage</th>
                </tr>
            </thead>
            <tbody>
                {% for result in competition_results %}
                    <tr>
                        <td class="text-center" style="width: 30%;">
                            <a href="{{ url_for('competition_details', competition_id=result.competition_id) }}">{{ result.competition_name }}</a>
                        </td>
                        <td class="text-center">{{ result.competition_winner }}</td>
                        <td class="text-center">{{ result.total_votes }}</td>
                        <td class="text-center" style="width: 25%;">{{ result.winner_votes_proportion }}%</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}